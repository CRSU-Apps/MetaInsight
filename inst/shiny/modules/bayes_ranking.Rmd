```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
### Generate ranking plots
```

```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
bayes_ranking_all <- bayes_ranking(main_connected_data, treatment_df, bayes_model_all, ranking_option)
bayes_ranking_sub <- bayes_ranking(connected_data_sub, treatment_df_sub, bayes_model_sub, ranking_option)
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
#### For all studies
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
{r, fig.width = 6.5, fig.height = {{bayes_ranking_forest_height_all}}}
```
```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
bayes_forest(bayes_model_all)
```

```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
if ({{bayes_ranking_rank_style}} == "radial"){
  radial_all <- RadialSUCRA(bayes_ranking_all, {{bayes_ranking_colourblind}})
  if (!{{bayes_ranking_simple}}){
    radial_all$Original
  } else {
    radial_all$Alternative
  }
} else {
  LitmusRankOGram(bayes_ranking_all, {{bayes_ranking_colourblind}})
}
```

```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
knitr::kable(ranking_table(bayes_ranking_all), digits = 2)
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
{r, fig.width = 5, fig.height = 5}
```
```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
summary_network(frequentist_all, bugsnet_all, {{bayes_ranking_network_style}})
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
#### Excluding selected studies
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
{r, fig.width = 6.5, fig.height = {{bayes_ranking_forest_height_sub}}}
```
```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
bayes_forest(bayes_model_sub)
```

```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
if ({{bayes_ranking_rank_style}} == "radial"){
  radial_sub <- RadialSUCRA(bayes_ranking_sub, {{bayes_ranking_colourblind}})
  if (!{{bayes_ranking_simple}}){
    radial_sub$Original
  } else {
    radial_sub$Alternative
  }
} else {
  LitmusRankOGram(bayes_ranking_sub, {{bayes_ranking_colourblind}})
}
```

```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
knitr::kable(ranking_table(bayes_ranking_sub), digits = 2)
```

```{asis, echo = {{bayes_ranking_knit}}, eval = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
{r, fig.width = 5, fig.height = 5}
```
```{r, echo = {{bayes_ranking_knit}}, include = {{bayes_ranking_knit}}}
summary_network(frequentist_sub, bugsnet_sub, {{bayes_ranking_network_style}})
```
